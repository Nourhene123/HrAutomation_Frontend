<nav class="mini-navbar">
    <a [routerLink]="['/home']" class="back-link">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#2563eb" stroke-width="2">
        <path d="M15 18l-6-6 6-6"/>
      </svg>
      Retour aux offres
    </a>
  </nav>
  
  <section id="my-applications" class="applications-section">
    <header class="section-header">
      <div class="header-icon">
        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#2563eb" stroke-width="2">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
          <polyline points="14 2 14 8 20 8"/>
        </svg>
      </div>
      <h2>My applications</h2>
    </header>
  
    <div *ngIf="isLoading" class="loading-container">
      <div class="spinner"></div>
      <p>Chargement en cours...</p>
    </div>
  
    <div class="applications-table-container" *ngIf="!isLoading && candidateApplications.length > 0">
        <table class="applications-table">
          <thead>
            <tr>
              <th>#</th>
              <th>Titre</th>
              <th>Date</th>
              <th>Statut</th>
              <th>Lieu</th>
              <th>Message</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let application of candidateApplications; let i = index">
              <td>{{ i + 1 }}</td>
              <td>{{ application.JobOffer?.Title || 'Candidature #' + application.ApplicationId }}</td>
              <td>{{ application.ApplicationDate | date:'medium' }}</td>
              <td>
                <span class="status" [ngClass]="getStatusClass(application.Status || 'En attente')">
                  {{ application.Status || 'En attente' }}
                </span>
              </td>
              <td>{{ application.JobOffer?.Location || '-' }}</td>
              <td>{{ application.Message || '-' }}</td>
            </tr>
          </tbody>
        </table>
      </div>
      
  
    <div *ngIf="!isLoading && candidateApplications.length === 0" class="no-applications">
      <p>Vous n’avez pas encore postulé à une offre.</p>
      <a [routerLink]="['/']" class="explore-link">Explorer les offres d’emploi</a>
    </div>
  </section>
